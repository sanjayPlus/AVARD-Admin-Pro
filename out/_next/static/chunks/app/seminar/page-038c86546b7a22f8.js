(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58],{7789:function(e,a,r){Promise.resolve().then(r.bind(r,3995))},3995:function(e,a,r){"use strict";r.r(a);var t=r(7437),l=r(1441),s=r(9951),d=r(2173),o=r(4033),c=r(2265),i=r(5925);a.default=function(){let[e,a]=(0,c.useState)(""),[r,n]=(0,c.useState)(""),[x,u]=(0,c.useState)(""),[m,b]=(0,c.useState)(""),[p,g]=(0,c.useState)(""),[h,y]=(0,c.useState)(""),[k,f]=(0,c.useState)(""),[j,N]=(0,c.useState)([]),[w,v]=(0,c.useState)(!1),S=(0,o.useRouter)();(0,c.useEffect)(()=>{let e=localStorage.getItem("token");e||S.push("/login"),d.Z.get("".concat(s.Z,"/admin/protected"),{headers:{"x-access-token":e}}).then(e=>{200===e.status?d.Z.get("".concat(s.Z,"/admin/get-seminar")).then(e=>{200===e.status&&N(e.data)}):(S.push("/login"),localStorage.removeItem("token"))}).catch(e=>{S.push("/login"),localStorage.removeItem("token")})},[w]);let C=e=>{d.Z.delete("".concat(s.Z,"/admin/delete-seminar/").concat(e),{headers:{"x-access-token":localStorage.getItem("token")}}).then(a=>{200===a.status&&(N(j.filter(a=>a._id!==e)),i.ZP.success("Seminar deleted successfully"))})};return(0,t.jsxs)(l.Z,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mx-auto",children:"Seminar"}),(0,t.jsxs)("div",{className:"max-w-sm mx-auto mt-4",children:[(0,t.jsx)("label",{htmlFor:"subject",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Subject"}),(0,t.jsx)("input",{onChange:e=>a(e.target.value),type:"text",id:"subject",value:e,"aria-describedby":"helper-text-explanation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"subject"})]}),(0,t.jsxs)("div",{className:"max-w-sm mx-auto mt-4",children:[(0,t.jsx)("label",{htmlFor:"description",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Description"}),(0,t.jsx)("input",{onChange:e=>n(e.target.value),type:"text",id:"description",value:r,"aria-describedby":"helper-text-explanation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"description"})]}),(0,t.jsxs)("div",{className:"max-w-sm mx-auto mt-4",children:[(0,t.jsx)("label",{htmlFor:"location",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Location"}),(0,t.jsx)("input",{onChange:e=>b(e.target.value),type:"text",id:"location",value:m,"aria-describedby":"helper-text-explanation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"location"})]}),(0,t.jsxs)("div",{className:"max-w-sm mx-auto mt-4",children:[(0,t.jsx)("label",{htmlFor:"date",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Date"}),(0,t.jsx)("input",{onChange:e=>u(e.target.value),type:"date",id:"date",value:x,"aria-describedby":"helper-text-explanation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"date"})]}),(0,t.jsxs)("div",{className:"max-w-sm mx-auto mt-4",children:[(0,t.jsx)("label",{htmlFor:"seminarType",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Seminar Type"}),(0,t.jsx)("input",{onChange:e=>f(e.target.value),type:"text",id:"seminarType",value:k,"aria-describedby":"helper-text-explanation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"seminarType"})]}),(0,t.jsxs)("div",{className:"max-w-sm mx-auto mt-4",children:[(0,t.jsx)("label",{htmlFor:"link",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Link"}),(0,t.jsx)("input",{onChange:e=>y(e.target.value),type:"text",id:"link",value:h,"aria-describedby":"helper-text-explanation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"link"})]}),(0,t.jsxs)("div",{className:"max-w-sm mx-auto my-5",children:[(0,t.jsx)("label",{className:"mb-[10px] block text-base font-medium text-dark dark:text-white",children:"Upload Image"}),(0,t.jsx)("input",{type:"file",onChange:e=>{g(e.target.files[0])},className:"w-full cursor-pointer rounded-md border border-stroke dark:border-dark-3 text-dark-6 outline-none transition file:mr-5 file:border-collapse file:cursor-pointer file:border-0 file:border-r file:border-solid file:border-stroke dark:file:border-dark-3 file:bg-gray-2 dark:file:bg-dark-2 file:py-3 file:px-5 file:text-body-color dark:file:text-dark-6 file:hover:bg-primary file:hover:bg-opacity-10 focus:border-primary active:border-primary disabled:cursor-default disabled:bg-gray-2"})]}),(0,t.jsx)("div",{className:"max-w-sm mx-auto my-5",children:(0,t.jsx)("button",{onClick:()=>{let t=new FormData;t.append("subject",e),t.append("description",r),t.append("date",x),t.append("location",m),t.append("photo",p),t.append("link",h),t.append("seminarType",k),d.Z.post("".concat(s.Z,"/admin/add-seminar"),t,{headers:{"x-access-token":localStorage.getItem("token")}}).then(e=>{(200===e.status||201===e.status)&&(v(!w),i.ZP.success("Seminar added successfully"),a(""),n(""),u(""),b(""),y(""),f(""),g(""))}).catch(e=>{console.log(e)})},className:"bg-primary text-white w-full py-3 rounded-lg bg-blue-500",children:"Add"})})]}),(0,t.jsx)("div",{className:"table-list-group my-20",children:(0,t.jsx)("div",{className:"relative overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,t.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Subject"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Description"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Date"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Location"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Photo"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Link"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Seminar Type"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Delete"})]})}),(0,t.jsx)("tbody",{children:null==j?void 0:j.map(e=>(0,t.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:e.subject}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.description}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.date}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.location}),(0,t.jsx)("td",{children:(0,t.jsx)("img",{className:"w-[100px] h-[100px]",src:e.photo,alt:""})}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.link}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.seminarType}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("button",{className:"text-red-700 ",onClick:()=>C(e._id),children:"Delete"})})]}))})]})})})]})}}},function(e){e.O(0,[750,396,139,971,938,744],function(){return e(e.s=7789)}),_N_E=e.O()}]);