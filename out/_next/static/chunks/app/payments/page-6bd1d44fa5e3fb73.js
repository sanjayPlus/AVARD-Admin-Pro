(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74],{5332:function(e,t,a){Promise.resolve().then(a.bind(a,7583))},7583:function(e,t,a){"use strict";a.r(t);var s=a(7437),r=a(1441),l=a(9951),n=a(2173),o=a(4033),d=a(2265);t.default=function(){let[e,t]=(0,d.useState)([]),[a,c]=(0,d.useState)(1),[i,x]=(0,d.useState)(0),h=(0,o.useRouter)();(0,d.useEffect)(()=>{let e=localStorage.getItem("token");e?n.Z.get(l.Z+"/payment/payment-details/1/10",{headers:{"x-access-token":e}}).then(e=>{t(e.data.data),c(e.data.currentPage),x(e.data.totalPages)}).catch(e=>{console.log(e)}):h.push("/login")},[h]),(0,d.useEffect)(()=>{let e=localStorage.getItem("token");n.Z.get(l.Z+"/payment/payment-details/"+a+"/10",{headers:{"x-access-token":e}}).then(e=>{t(e.data.data),c(e.data.currentPage),x(e.data.totalPages),0===e.data.data.length&&c(a-1)}).catch(e=>{console.log(e)})},[a]);let m=a=>{let s=localStorage.getItem("token");n.Z.delete(l.Z+"/payment/delete-payment/"+a,{headers:{"x-access-token":s}}).then(s=>{t(e.filter(e=>e._id!==a))}).catch(e=>{console.log(e)})},g=e=>{c(Math.max(1,Math.min(e,i)))};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(r.Z,{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold my-5",children:"Payments"}),(0,s.jsxs)("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:[(0,s.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Name"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Phone Number"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Amount"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 ",children:"Delete"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.email}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.phone}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.amount}),(0,s.jsx)("th",{children:(0,s.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:()=>m(e._id),children:"Delete"})})]})}))})]}),(0,s.jsx)("div",{})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center mt-5",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-400",children:["Page",(0,s.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:a})," ","of"," ",(0,s.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:i})," ","Total Page"]}),(0,s.jsxs)("div",{className:"inline-flex mt-2 xs:mt-0",children:[(0,s.jsxs)("button",{onClick:()=>g(a-1),className:"flex items-center justify-center px-4 h-10 text-base font-medium text-white bg-gray-800 rounded-s hover:bg-gray-900 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",children:[(0,s.jsx)("svg",{className:"w-3.5 h-3.5 me-2 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5H1m0 0 4 4M1 5l4-4"})}),"Prev"]}),(0,s.jsxs)("button",{className:"flex items-center justify-center px-4 h-10 text-base font-medium text-white bg-gray-800 border-0 border-s border-gray-700 rounded-e hover:bg-gray-900 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>g(a+1),children:["Next",(0,s.jsx)("svg",{className:"w-3.5 h-3.5 ms-2 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})]})]})]})})}}},function(e){e.O(0,[750,396,139,971,938,744],function(){return e(e.s=5332)}),_N_E=e.O()}]);